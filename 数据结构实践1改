#include<stdio.h>
#include<time.h>
#include<stdlib.h>
#define NAX_SIZE 1000
clock_t start, stop;
double duration = 0;
void selsctSort(int a[], int size);
void Shellsort(int a[], int n);
int main(){
	int i,j;
	int data[NAX_SIZE];
	srand(time(NULL));
	for (j = 0; j < 100; j++) {
		for (i = 0; i < NAX_SIZE; i++) {
			data[i] = rand();
		}
		start = clock();
		Shellsort(data, NAX_SIZE);
		stop = clock();
		duration = duration + ((double)(stop - start)) / CLK_TCK;
	}
	printf("%f %f\n", duration, duration / 100);
	return 0;
}
void selsctSort(int a[], int size) {
	int i, j, k;
	for (i = 1; i < size; i++) {
		k = i;
		for (j = i; j < size + 1; j++) {
			if(a[k] > a[j])
				k = j;
		}
		if (k != i) {
			a[0] = a[k]; a[k] = a[i]; a[i] = a[0];
		}
	} 
}

void Shellsort(int a[], int n){
    int i, j, d = n / 2;
    while(d >= 1){
        for(i = d + 1; i <= n; i++){
            a[0] = a[i];
            j = i - d;
            while((j > 0) && (a[0] < a[j])){
                a[j + d] = a[j];
                j = j - d;
            }
            a[j + d] = a[0];
        }
        d = d / 2;
    }
}
